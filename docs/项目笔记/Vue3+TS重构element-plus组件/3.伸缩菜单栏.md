# 伸缩菜单栏

## 1、创建文件

创建相关文件夹`/src/components/container/src`，并在文件夹下创建文件`index.vue`

```html
<template>
  <el-container>
    <el-aside width="200px"></el-aside>
    <el-container>
      <el-header>Header</el-header>
      <el-main>
        <router-view></router-view>
      </el-main>
    </el-container>
  </el-container>
</template>

<script lang="ts" setup></script>

<style lang="scss" scoped></style>
```

## 2、配置相关路由

```typescript
// src/router/index.ts

import Container from '../components/container/src/index.vue'

const routes: RouteRecordRaw[] = [
  {
    path: '/',
    component: Container,
    children: [
      {
        path: '/',
        component: Home
      }
    ]
  }
]
```

## 3、增加菜单选项

增加侧边栏相关菜单，在`el-aside`标签中增加相关内容

```html
<!-- src/components/container/src/index.vue --> 

<template>
    <el-container>
      <el-aside width="200px">
        <el-menu default-active="2" class="el-menu-vertical-demo">
          <el-menu-item index="1">
            <el-icon><el-icon-menu /></el-icon>
            <span>导航一</span>
          </el-menu-item>
          <el-menu-item index="2">
            <el-icon><el-icon-document /></el-icon>
            <span>导航二</span>
          </el-menu-item>
          <el-menu-item index="3">
            <el-icon><el-icon-setting /></el-icon>
            <span>导航三</span>
          </el-menu-item>
        </el-menu>
      </el-aside>
        ......
    </el-container>
</template>
```

## 4、调整样式

```html
<!-- src/App.vue -->

<style lang='scss'>
* {
  margin: 0;
  padding: 0;
}
svg {
  width: 1em;
  height: 1em;
}
html,
body,
#app,
.el-container,
.el-menu {
  height: 100%;
}
</style>
```

## 5、实现折叠

5.1 添加 Menu 的属性`collapse`

| 属性     | 说明                                                 | 类型    | 可选值 | 默认值 |
| -------- | ---------------------------------------------------- | ------- | ------ | ------ |
| collapse | 是否水平折叠收起菜单（仅在 mode 为 vertical 时可用） | boolean | —      | false  |

```html
      <el-menu
        default-active="2"
        class="el-menu-vertical-demo"
        :collapse="isCollapse"
      >
```

5.2 增加变量`isCollapse`转化代码

```typescript
import { ref } from 'vue'
let isCollapse = ref(false)
let toggle = () => {
  isCollapse.value = !isCollapse.value
}
```

5.3 在`el-header`，新增图标

```html
<el-header>
  <span @click="toggle">
    <el-icon-expand v-if="isCollapse"></el-icon-expand>
    <el-icon-fold v-else></el-icon-fold>
  </span>
</el-header>
```

5.5 增加样式

```html
<el-aside width="auto">
  <el-menu default-active="2" class="el-menu-vertical-demo" :collapse="isCollapse"></el-menu>
</el-aside>

<style lang="scss" scoped>
.el-menu-vertical-demo:not(.el-menu--collapse) {
  width: 200px;
}
</style>
```

