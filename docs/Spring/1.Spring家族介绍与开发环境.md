# Spring家族介绍与开发环境

## Spring 能做什么

Spring是一个轻量级的控制反转（IOC/DI）和面向切面编程（AOP）的对象容器框架

Spring 官网：<http://spring.io>

Spring 是一个于2003年兴起的轻量级的Java开源开发框架

如今 Spring 已是 Java 项目的标配，它极大的简化了开发过程，降低了开发难度。

-   方便解耦，简化开发
-   AOP 编程的支持
-   声明式事务的支持
-   方便程序的测试
-   方便集成各种优秀框架

IOC：Inversion of Control

AOP：Aspect Oriented Programming

## Spring5 新特性

Spring5 是一个重要的版本，距离 Spring Framework4 差不多四年

+ 支持 JDK8
  + Spring 接口中的默认方法
  + 基于 Java8 反射增强的内部代码改进
  + 在框架代码中使用函数式编程 - lambda 表达式和 Stream 流
+ 响应式编程支持 Spring Web Reactive 异步的，非阻塞的、事件驱动的服务
+ 支持 J2EE7
  + Servlet 3.1
  + JMS 2.0
  + JPA 2.1
  + JAX-RS 2.0
  + Bean Validation 1.1
+ Hibernate 5
+ Jackson 2.6
+ EhCache 2.10
+ Junit 5
+ Tiles 3
+ Kotlin

## 开发环境

### Spring Jar 包

### Spring Framework 官网下载地址：

https://repo.spring.io/ui/native/libs-release-local/org/springframework/spring

解压缩Jar包可以看见如下目录

+ docs 文档
+ libs Jar包
+ schema XML约束
+ license.txt 许可协议
+ notice.txt 注意事项
+ readme.txt 读我

### 常用Jar包

| 包名                                | 用途                                                         |
| ----------------------------------- | ------------------------------------------------------------ |
| spring-core                         | 框架的基础功能，包括IOC和AOP功能                             |
| spring-aspects                      | 提供了与AspectJ的集成，AspectJ是一个面向切面的框架，它扩展了Java语言，AspectJ定义了AOP语法，它有一个专门的编译器用来生成遵守Java字节编码规范的Class文件 |
| spring-context                      | spring上下文                                                 |
| spring-aop、spring-instrument       | 面向切面编程、植入代理                                       |
| spring-expression                   | 模块提供了强大的表达式语言去支持查询和操作运行时对象图。这是对JSP2.1规范中规定的统一表达式语言的扩展。该语言支持设置和获取属性值，属性分配，方法调用，访问数组，集合和索引器的内容，逻辑和算术运算，变量命名以及从Spring 的IOC容器中以名称检索对象。它还支持列表投影和选择以及常见的列表聚合。 |
| spring-messaging                    | 消息传递                                                     |
| spring-jdbc、spring-jms、spring-orm | 数据访问支持                                                 |
| spring-jcl                          | Jakarta Commons Logging采用了设计模式中的“适配器模式”，它对外提供统一的接口，然后在适配类中将对日志的操作委托给具体的日志框架 |
| spring-tx                           | 事务                                                         |
| spring-webmvc、spring-web           | Webmvc框架                                                   |
| spring-webflux                      | Servlet3.1 + Netty 方式的WebMvc                              |
| spring-websocket                    | 对ws支持                                                     |

### 开发工具

可以使用Eclipse、Idea等

推荐使用官方开发工具 STS，下载地址：https://spring.io/tools

工具启动失败，查看Java环境是否配置

## Hello World

### 新建Java项目

1、创建空项目

### 包引入

在项目根目录新建一个文件夹`libs`，引入下列包：

+ commons-logging
+ spring-beans
+ spring-context
+ spring-core
+ spring-expression

+ commons-logging

commons-logging包下载地址：

http://commons.apache.org/proper/commons-logging/download_logging.cgi

把 jar 包添加到项目中选中jar包，单击右键，`Build Path -> Add to Build Path`

### 配置文件

在 src 目录下创建配置文件`applicationContext.xml`

### Bean

创建一个类，包含两个属性，生成get/set方法

```java
public class Person {
	private String name;
	private int age;

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public int getAge() {
		return age;
	}

	public void setAge(int age) {
		this.age = age;
	}
}
```

###  测试类

```java
public class TestGetBean {
	public static void main(String[] args) {
		ClassPathXmlApplicationContext cxt = new ClassPathXmlApplicationContext("applicationContext.xml");
		Person bean = (Person)cxt.getBean("person");
		bean.setName("zhangsan");
		bean.setAge(18);
		System.out.println(bean);
	}
}
```

